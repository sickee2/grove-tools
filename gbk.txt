中文测试
1. **参数文档**：在函数声明中添加注释说明 `buffer_size` 的单位
2. **边界检查**：确保 `buffer_size/sizeof(out_type)` 不会产生除零错误
3. **默认值调整**：1024字节对于某些编码可能偏小
**下一步建议**：现在 `code_convertor` 的实现看起来正确且一致了。您希望我分析其他部分的功能，还是测试这个转换器的实际使用效果
1. **参数重命名**：`chunk_size` → `buffer_size`，更清晰地表明这是缓冲区字节大小
2. **统一单位**：现在所有相关计算都基于字节单位
3. **简化逻辑**：移除了不必要的中间变量
